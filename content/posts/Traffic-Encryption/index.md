+++
date = '2025-12-16T15:59:56+08:00'
draft = true
title = '在校园网内进行网络加密'
tags = ["校园网", "加密"]  # 🔴 注意这里一定要用等于号 =
categories=["技术"]

+++

## 引用：

[SunBK201/UA3F: Advanced HTTP Header Rewriting Tool](https://github.com/SunBK201/UA3F)

## **前言：**

博主也是不幸中的不幸，开学初就因为科学上网被拉过去说教了。最近管的严确实没办法，但不魔法上网那还搞毛科研。现在要在共享了的前提下实现流量加密，来自由上网。

## **原理：**

上文提到用到的ua3f的插件是可以搭配shellcrash、openclash使用的，相比于以往的ua2f有更大的优势，也可以单独运行，不依赖任何代理。

![](ua3f.png)

按官方文档来看UA3F有5种不同的工作模式，其中HTTP和SOCKS5模式必须依赖clash才能够实现代理和改动UA。

### 那么现在有两套方案：

#### 一、节点部署在软路由上，一切代理与加密在软路由上执行。

#### 二、软路由只负责执行加密与分流，代理在客户端执行。

我自己目前用第一种方法，第二种方法有什么漏洞暂时未知。

## 泄露方式：

现代的网络加密其实已经做的很好了，现在大部分网站都用的https协议，没有任何中间人能够解密你的内容，现在大部分机场也用的hy2、vless等协议了，如果还在用ss协议的朋友需要考虑换机场了。

### 那么校园网又是怎么判断我们的异常流量的呢？

#### **DNS泄露：**

打开自己的主路由看看自己的DNS服务器，在网上查一下，就会发现这是学校的DNS服务器。学校当然不知道我们数据包里面的内容，但是知道数据流去了哪里。

### WEBRTC泄露：

### 浏览器需要进行实时性比较高的活动时，会向STUN服务器进行点对点的连接，也会泄露IP。



